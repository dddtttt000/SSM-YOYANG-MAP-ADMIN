# ëŒ“ê¸€ ê´€ë¦¬ ì‹œìŠ¤í…œ êµ¬í˜„ ê³„íšì„œ

> ğŸ“… ê³„íš ìˆ˜ë¦½ì¼: 2025-09-17
> ğŸ¯ ì˜ˆìƒ ì™„ë£Œ: 2025-10-29 (6ì£¼)
> ğŸ“‹ ë‹´ë‹¹: ê°œë°œíŒ€
> ğŸ”„ ìƒíƒœ: ê³„íš ë‹¨ê³„

## ğŸ“Š í”„ë¡œì íŠ¸ ê°œìš”

### ğŸ¯ ëª©í‘œ
ê¸°ì¡´ ëŒ“ê¸€ ì¡°íšŒ ì¤‘ì‹¬ì˜ ì‹œìŠ¤í…œì„ **ì™„ì „í•œ ëŒ“ê¸€ ê´€ë¦¬ ì‹œìŠ¤í…œ**ìœ¼ë¡œ í™•ì¥í•˜ì—¬ ê´€ë¦¬ìì˜ íš¨ìœ¨ì ì¸ ëŒ“ê¸€ ê´€ë¦¬ë¥¼ ì§€ì›

### ğŸ“ˆ ê¸°ëŒ€ íš¨ê³¼
- **ê´€ë¦¬ íš¨ìœ¨ì„± 300% í–¥ìƒ**: ì¼ê´„ ì²˜ë¦¬ ê¸°ëŠ¥ìœ¼ë¡œ ê´€ë¦¬ ì‹œê°„ ë‹¨ì¶•
- **ì‹ ê³  ì²˜ë¦¬ ì‹œê°„ 80% ë‹¨ì¶•**: ìë™í™”ëœ ì›Œí¬í”Œë¡œìš° ë„ì…
- **ì‚¬ìš©ì ë§Œì¡±ë„ í–¥ìƒ**: ì‹ ì†í•œ ë¶€ì ì ˆ ëŒ“ê¸€ ì²˜ë¦¬
- **ë°ì´í„° ê¸°ë°˜ ì˜ì‚¬ê²°ì •**: ê´€ë¦¬ ì´ë ¥ ì¶”ì  ë° ë¶„ì„

---

## ğŸ” í˜„ì¬ ìƒí™© ë¶„ì„

### âœ… êµ¬í˜„ ì™„ë£Œ ê¸°ëŠ¥
- [x] ëŒ“ê¸€ ì¡°íšŒ (íŠ¸ë¦¬ êµ¬ì¡°, ì‘ì„±ì ì •ë³´)
- [x] ëŒ“ê¸€ ìƒíƒœ ì—…ë°ì´íŠ¸ (ìˆ¨ê¹€/í™œì„±)
- [x] ëŒ“ê¸€ ì‚­ì œ (ê¸°ë³¸ ê¸°ëŠ¥)
- [x] ì‹ ê³ ëœ ëŒ“ê¸€ ì¡°íšŒ
- [x] ëŒ“ê¸€ í†µê³„ (ì¢‹ì•„ìš” ìˆ˜)
- [x] ëŒ€ëŒ“ê¸€ íŠ¸ë¦¬ êµ¬ì¡° ìƒì„±

### ğŸš¨ ë¶€ì¡±í•œ ê¸°ëŠ¥ (êµ¬í˜„ ëŒ€ìƒ)
- [ ] ê´€ë¦¬ì ëŒ“ê¸€ ì¼ê´„ ê´€ë¦¬
- [ ] ëŒ“ê¸€ ìˆ˜ì • ê¸°ëŠ¥ (ê´€ë¦¬ììš©)
- [ ] ëŒ“ê¸€ ì‹ ê³  ì²˜ë¦¬ ì›Œí¬í”Œë¡œìš°
- [ ] ëŒ€ëŒ“ê¸€ ê°œë³„ ê´€ë¦¬
- [ ] ê³ ê¸‰ ê²€ìƒ‰ ë° í•„í„°ë§
- [ ] ê´€ë¦¬ ì´ë ¥ ì¶”ì 

### ğŸ“Š ê¸°ìˆ  ìŠ¤íƒ
- **Frontend**: React 18 + TypeScript + Chakra UI v2
- **Backend**: Supabase (PostgreSQL + RLS)
- **State**: TanStack Query v5
- **Auth**: Supabase Auth + RLS ì •ì±…

---

## ğŸ¯ í•µì‹¬ ìš”êµ¬ì‚¬í•­

### ğŸ”¥ ìµœìš°ì„  ìš”êµ¬ì‚¬í•­ (1-2ì£¼ ë‚´)

| ê¸°ëŠ¥ | ì„¤ëª… | ë¹„ì¦ˆë‹ˆìŠ¤ ì„íŒ©íŠ¸ | ê¸°ìˆ  ë³µì¡ë„ |
|------|------|-----------------|-------------|
| **ëŒ“ê¸€ ì¼ê´„ ê´€ë¦¬** | ì²´í¬ë°•ìŠ¤ ì„ íƒ í›„ ì¼ê´„ ìˆ¨ê¹€/ì‚­ì œ/ë³µì› | ğŸ”¥ High | ğŸŸ¡ Medium |
| **ëŒ“ê¸€ ìƒì„¸ ì •ë³´** | ì‘ì„±ì, ê²Œì‹œê¸€, ì‹ ê³  í˜„í™© í†µí•© view | ğŸ”¥ High | ğŸŸ¢ Low |
| **ì‹ ê³  ëŒ“ê¸€ ì²˜ë¦¬** | ì‹ ê³  ìŠ¹ì¸/ë°˜ë ¤, ì²˜ë¦¬ ì´ë ¥ ê´€ë¦¬ | ğŸ”¥ High | ğŸ”´ High |

### ğŸŸ¡ ì¤‘ìš” ìš”êµ¬ì‚¬í•­ (2-4ì£¼ ë‚´)

| ê¸°ëŠ¥ | ì„¤ëª… | ë¹„ì¦ˆë‹ˆìŠ¤ ì„íŒ©íŠ¸ | ê¸°ìˆ  ë³µì¡ë„ |
|------|------|-----------------|-------------|
| **ëŒ“ê¸€ ê²€ìƒ‰ ê°•í™”** | ì‘ì„±ì, ë‚´ìš©, ê¸°ê°„ë³„ ê³ ê¸‰ ê²€ìƒ‰ | ğŸŸ¡ Medium | ğŸŸ¡ Medium |
| **ê´€ë¦¬ ì´ë ¥ ì¶”ì ** | ê´€ë¦¬ì ì•¡ì…˜ ê¸°ë¡ ë° ê°ì‚¬ | ğŸŸ¡ Medium | ğŸŸ¡ Medium |

### ğŸŸ¢ ì¥ê¸° ìš”êµ¬ì‚¬í•­ (1-2ê°œì›” ë‚´)

| ê¸°ëŠ¥ | ì„¤ëª… | ë¹„ì¦ˆë‹ˆìŠ¤ ì„íŒ©íŠ¸ | ê¸°ìˆ  ë³µì¡ë„ |
|------|------|-----------------|-------------|
| **ëŒ“ê¸€ ë‚´ìš© ìˆ˜ì •** | ê´€ë¦¬ìê°€ ë¶€ì ì ˆí•œ ë‚´ìš© ì§ì ‘ ìˆ˜ì • | ğŸŸ¢ Low | ğŸŸ¡ Medium |
| **ì‹¤ì‹œê°„ ì•Œë¦¼** | ì‹ ê³ /ê´€ë¦¬ í•„ìš” ëŒ“ê¸€ ì‹¤ì‹œê°„ ì•Œë¦¼ | ğŸŸ¢ Low | ğŸ”´ High |

---

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ í™•ì¥ ê³„íš

### ğŸ“‹ ìƒˆë¡œìš´ í…Œì´ë¸” ì„¤ê³„

#### comment_admin_actions (ëŒ“ê¸€ ê´€ë¦¬ ì´ë ¥)
```sql
CREATE TABLE comment_admin_actions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  comment_id UUID NOT NULL REFERENCES community_comments_list(id) ON DELETE CASCADE,
  admin_id INTEGER NOT NULL REFERENCES admin_users(id),
  action_type VARCHAR(50) NOT NULL, -- 'hide', 'restore', 'edit', 'delete', 'bulk_hide', 'bulk_delete'
  reason TEXT, -- ê´€ë¦¬ ì‚¬ìœ 
  previous_content TEXT, -- ìˆ˜ì • ì „ ë‚´ìš© (ìˆ˜ì • ì‹œì—ë§Œ)
  affected_count INTEGER DEFAULT 1, -- ì¼ê´„ ì‘ì—… ì‹œ ì˜í–¥ë°›ì€ ëŒ“ê¸€ ìˆ˜
  metadata JSONB, -- ì¶”ê°€ ë©”íƒ€ë°ì´í„° (í•„í„° ì¡°ê±´, ì„ íƒ ê¸°ì¤€ ë“±)
  created_at TIMESTAMP DEFAULT NOW()
);

-- ì¸ë±ìŠ¤ ìƒì„±
CREATE INDEX idx_comment_admin_actions_comment_id ON comment_admin_actions(comment_id);
CREATE INDEX idx_comment_admin_actions_admin_id ON comment_admin_actions(admin_id);
CREATE INDEX idx_comment_admin_actions_created_at ON comment_admin_actions(created_at);
CREATE INDEX idx_comment_admin_actions_action_type ON comment_admin_actions(action_type);
```

#### comment_report_processing (ì‹ ê³  ì²˜ë¦¬ ì´ë ¥)
```sql
CREATE TABLE comment_report_processing (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  report_id UUID NOT NULL REFERENCES community_reports(id) ON DELETE CASCADE,
  comment_id UUID NOT NULL REFERENCES community_comments_list(id) ON DELETE CASCADE,
  admin_id INTEGER NOT NULL REFERENCES admin_users(id),
  action_taken VARCHAR(50) NOT NULL, -- 'approve', 'reject', 'pending'
  admin_reason TEXT, -- ê´€ë¦¬ì ì²˜ë¦¬ ì‚¬ìœ 
  auto_action VARCHAR(50), -- ìŠ¹ì¸ ì‹œ ìë™ ì‹¤í–‰ëœ ì•¡ì…˜ ('hide', 'delete', 'none')
  processing_time_seconds INTEGER, -- ì²˜ë¦¬ì— ê±¸ë¦° ì‹œê°„
  created_at TIMESTAMP DEFAULT NOW()
);

-- ì¸ë±ìŠ¤ ìƒì„±
CREATE INDEX idx_comment_report_processing_report_id ON comment_report_processing(report_id);
CREATE INDEX idx_comment_report_processing_admin_id ON comment_report_processing(admin_id);
CREATE INDEX idx_comment_report_processing_created_at ON comment_report_processing(created_at);
```

### ğŸ”„ ê¸°ì¡´ í…Œì´ë¸” í™•ì¥

#### community_comments_list í™•ì¥
```sql
-- ê´€ë¦¬ì ê´€ë ¨ í•„ë“œ ì¶”ê°€
ALTER TABLE community_comments_list
ADD COLUMN admin_updated_at TIMESTAMP,
ADD COLUMN admin_updated_by INTEGER REFERENCES admin_users(id),
ADD COLUMN admin_reason TEXT, -- ê´€ë¦¬ì ì•¡ì…˜ ì‚¬ìœ 
ADD COLUMN edit_count INTEGER DEFAULT 0, -- ìˆ˜ì • íšŸìˆ˜
ADD COLUMN last_edited_at TIMESTAMP; -- ë§ˆì§€ë§‰ ìˆ˜ì • ì‹œê°„

-- ì¸ë±ìŠ¤ ì¶”ê°€
CREATE INDEX idx_comments_admin_updated_at ON community_comments_list(admin_updated_at);
CREATE INDEX idx_comments_admin_updated_by ON community_comments_list(admin_updated_by);
CREATE INDEX idx_comments_status_admin ON community_comments_list(status, admin_updated_by);
```

#### community_reports í™•ì¥
```sql
-- ì‹ ê³  ì²˜ë¦¬ ìƒíƒœ í•„ë“œ ì¶”ê°€
ALTER TABLE community_reports
ADD COLUMN processing_status VARCHAR(20) DEFAULT 'pending', -- 'pending', 'approved', 'rejected'
ADD COLUMN processed_at TIMESTAMP,
ADD COLUMN processed_by INTEGER REFERENCES admin_users(id),
ADD COLUMN admin_reason TEXT, -- ì²˜ë¦¬ ì‚¬ìœ 
ADD COLUMN auto_action_taken VARCHAR(50); -- ìë™ ì‹¤í–‰ëœ ì•¡ì…˜

-- ì¸ë±ìŠ¤ ì¶”ê°€
CREATE INDEX idx_reports_processing_status ON community_reports(processing_status);
CREATE INDEX idx_reports_processed_by ON community_reports(processed_by);
CREATE INDEX idx_reports_processed_at ON community_reports(processed_at);
```

---

## âš™ï¸ ë°±ì—”ë“œ ì„œë¹„ìŠ¤ í™•ì¥

### ğŸ“ commentService.ts ì‹ ê·œ ë©”ì„œë“œ

#### ğŸ”¥ Phase 1: ê¸°ë³¸ ê´€ë¦¬ ê¸°ëŠ¥
```typescript
class CommentService {
  /**
   * ëŒ“ê¸€ ì¼ê´„ ìƒíƒœ ì—…ë°ì´íŠ¸
   * @param commentIds ëŒ€ìƒ ëŒ“ê¸€ ID ë°°ì—´
   * @param status ë³€ê²½í•  ìƒíƒœ ('active', 'hidden', 'deleted')
   * @param adminId ê´€ë¦¬ì ID
   * @param reason ê´€ë¦¬ ì‚¬ìœ 
   */
  async bulkUpdateCommentStatus(
    commentIds: string[],
    status: 'active' | 'hidden' | 'deleted',
    adminId: number,
    reason?: string
  ): Promise<BulkUpdateResult>

  /**
   * ëŒ“ê¸€ ë‚´ìš© ìˆ˜ì • (ê´€ë¦¬ììš©)
   * @param commentId ëŒ“ê¸€ ID
   * @param newContent ìƒˆë¡œìš´ ë‚´ìš©
   * @param adminId ê´€ë¦¬ì ID
   * @param reason ìˆ˜ì • ì‚¬ìœ 
   */
  async updateCommentContent(
    commentId: string,
    newContent: string,
    adminId: number,
    reason?: string
  ): Promise<void>

  /**
   * ëŒ“ê¸€ ê´€ë¦¬ ì´ë ¥ ì¡°íšŒ
   * @param commentId ëŒ“ê¸€ ID (ì„ íƒì‚¬í•­)
   * @param adminId ê´€ë¦¬ì ID (ì„ íƒì‚¬í•­)
   * @param dateRange ê¸°ê°„ (ì„ íƒì‚¬í•­)
   */
  async getCommentAdminActions(
    filters?: {
      commentId?: string
      adminId?: number
      dateRange?: { start: string; end: string }
      actionType?: string
    }
  ): Promise<CommentAdminAction[]>
}
```

#### ğŸŸ¡ Phase 2: ì‹ ê³  ì²˜ë¦¬ ì‹œìŠ¤í…œ
```typescript
  /**
   * ì‹ ê³  ì²˜ë¦¬ (ìŠ¹ì¸/ë°˜ë ¤)
   * @param reportId ì‹ ê³  ID
   * @param action ì²˜ë¦¬ ì•¡ì…˜ ('approve', 'reject')
   * @param adminId ê´€ë¦¬ì ID
   * @param reason ì²˜ë¦¬ ì‚¬ìœ 
   * @param autoAction ìŠ¹ì¸ ì‹œ ìë™ ì‹¤í–‰í•  ì•¡ì…˜ (ì„ íƒì‚¬í•­)
   */
  async processCommentReport(
    reportId: string,
    action: 'approve' | 'reject',
    adminId: number,
    reason?: string,
    autoAction?: 'hide' | 'delete' | 'none'
  ): Promise<ReportProcessingResult>

  /**
   * ì‹ ê³  ì¼ê´„ ì²˜ë¦¬
   * @param reportIds ì‹ ê³  ID ë°°ì—´
   * @param action ì²˜ë¦¬ ì•¡ì…˜
   * @param adminId ê´€ë¦¬ì ID
   * @param reason ì²˜ë¦¬ ì‚¬ìœ 
   */
  async bulkProcessReports(
    reportIds: string[],
    action: 'approve' | 'reject',
    adminId: number,
    reason?: string
  ): Promise<BulkReportProcessingResult>

  /**
   * ì‹ ê³  í†µê³„ ì¡°íšŒ
   * @param dateRange ì¡°íšŒ ê¸°ê°„
   * @param adminId íŠ¹ì • ê´€ë¦¬ì (ì„ íƒì‚¬í•­)
   */
  async getReportProcessingStats(
    dateRange?: { start: string; end: string },
    adminId?: number
  ): Promise<ReportProcessingStats>
```

#### ğŸŸ¢ Phase 3: ê³ ê¸‰ ê¸°ëŠ¥
```typescript
  /**
   * ê³ ê¸‰ ëŒ“ê¸€ ê²€ìƒ‰
   * @param filters ê³ ê¸‰ í•„í„° ì¡°ê±´
   * @param pagination í˜ì´ì§€ë„¤ì´ì…˜ ì •ë³´
   */
  async searchComments(
    filters: AdvancedCommentFilters,
    pagination?: PaginationOptions
  ): Promise<CommentSearchResult>


```

### ğŸ“‹ ìƒˆë¡œìš´ íƒ€ì… ì •ì˜

#### ê´€ë¦¬ ê´€ë ¨ íƒ€ì…
```typescript
// types/comment-management.types.ts

export interface CommentAdminAction {
  id: string
  comment_id: string
  admin_id: number
  admin?: {
    id: number
    name: string
    email: string
  }
  action_type: 'hide' | 'restore' | 'edit' | 'delete' | 'bulk_hide' | 'bulk_delete'
  reason?: string
  previous_content?: string
  affected_count: number
  metadata?: Record<string, any>
  created_at: string
}

export interface BulkUpdateResult {
  success: boolean
  updated_count: number
  failed_count: number
  failed_comments?: {
    comment_id: string
    error: string
  }[]
  action_id: string // ê´€ë¦¬ ì´ë ¥ ID
}

export interface ReportProcessingResult {
  success: boolean
  report_id: string
  comment_id: string
  action_taken: 'approve' | 'reject'
  auto_action_executed?: 'hide' | 'delete' | 'none'
  processing_id: string
}

export interface BulkReportProcessingResult {
  success: boolean
  processed_count: number
  failed_count: number
  results: ReportProcessingResult[]
}
```

#### ê²€ìƒ‰ ë° í•„í„°ë§ íƒ€ì…
```typescript
export interface AdvancedCommentFilters extends CommentFilters {
  // ê¸°ì¡´ í•„í„° í™•ì¥
  hasReports?: boolean
  reportCount?: { min?: number; max?: number }
  likesCount?: { min?: number; max?: number }

  // ì‘ì„±ì ê´€ë ¨
  authorKeyword?: string
  authorIds?: number[]

  // ë‚´ìš© ê´€ë ¨
  contentKeyword?: string
  contentLength?: { min?: number; max?: number }

  // ê´€ë¦¬ ê´€ë ¨
  adminActioned?: boolean
  adminId?: number
  lastActionDate?: { start?: string; end?: string }

  // ê²Œì‹œê¸€ ê´€ë ¨
  postIds?: string[]
  postCategories?: string[]

  // ê³ ê¸‰ ì˜µì…˜
  hasChildren?: boolean // ëŒ€ëŒ“ê¸€ì´ ìˆëŠ” ëŒ“ê¸€ë§Œ
  isReply?: boolean // ëŒ€ëŒ“ê¸€ë§Œ
  sortBy?: 'created_at' | 'updated_at' | 'likes_count' | 'report_count'
  sortOrder?: 'asc' | 'desc'
}

export interface CommentSearchResult {
  comments: CommentWithExtendedInfo[]
  total_count: number
  total_pages: number
  current_page: number
  filters_applied: AdvancedCommentFilters
  search_time_ms: number
}

export interface CommentWithExtendedInfo extends CommunityCommentWithAuthor {
  // í™•ì¥ ì •ë³´
  report_summary?: {
    total_reports: number
    pending_reports: number
    recent_report_date?: string
    most_common_reason?: string
  }
  admin_summary?: {
    last_action?: CommentAdminAction
    total_actions: number
    last_action_date?: string
  }
  post_info?: {
    id: string
    title: string
    category_1?: string
    author_nickname?: string
  }
  engagement_stats?: {
    likes_count: number
    replies_count: number
    views_count?: number
  }
}
```

#### ëŒ€ì‹œë³´ë“œ ë° í†µê³„ íƒ€ì…
```typescript

```

---

## ğŸ¨ í”„ë¡ íŠ¸ì—”ë“œ ì»´í¬ë„ŒíŠ¸ ì„¤ê³„

### ğŸ“ ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

```
src/features/community/components/comments/
â”œâ”€â”€ management/                          # ğŸ†• ê´€ë¦¬ ê¸°ëŠ¥ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ CommentManagementTable.tsx       # ê´€ë¦¬ììš© ëŒ“ê¸€ í…Œì´ë¸”
â”‚   â”œâ”€â”€ CommentBulkActions.tsx           # ì¼ê´„ ì‘ì—… ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ CommentDetailModal.tsx           # ëŒ“ê¸€ ìƒì„¸ ëª¨ë‹¬
â”‚   â”œâ”€â”€ CommentAdminHistory.tsx          # ê´€ë¦¬ ì´ë ¥ í‘œì‹œ
â”‚   â””â”€â”€ CommentFilters.tsx               # ê³ ê¸‰ í•„í„°ë§
â”œâ”€â”€ reports/                             # ğŸ†• ì‹ ê³  ê´€ë¦¬ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ CommentReportModal.tsx           # ì‹ ê³  ì²˜ë¦¬ ëª¨ë‹¬
â”‚   â”œâ”€â”€ ReportProcessingPanel.tsx        # ì‹ ê³  ì²˜ë¦¬ íŒ¨ë„
â”‚   â”œâ”€â”€ ReportBulkActions.tsx            # ì‹ ê³  ì¼ê´„ ì²˜ë¦¬
â”‚   â””â”€â”€ ReportDashboard.tsx              # ì‹ ê³  í†µê³„ ëŒ€ì‹œë³´ë“œ
â”œâ”€â”€ dashboard/                           # ğŸ†• ê´€ë¦¬ í˜„í™©
â”‚   â”œâ”€â”€ AdminActivityPanel.tsx           # ê´€ë¦¬ì í™œë™ í˜„í™©
â”‚   â””â”€â”€ AdminActivityPanel.tsx           # ê´€ë¦¬ì í™œë™ íŒ¨ë„
â”œâ”€â”€ CommentList.tsx                      # ê¸°ì¡´ (ê°œì„ )
â””â”€â”€ CommentItem.tsx                      # ê¸°ì¡´ (ê°œì„ )
```

### ğŸ”§ ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ ê°œì„  ê³„íš

#### CommentList.tsx ê°œì„ ì‚¬í•­
```typescript
interface CommentListProps {
  postId: string
  managementMode?: boolean // ğŸ†• ê´€ë¦¬ ëª¨ë“œ ì—¬ë¶€
  showBulkActions?: boolean // ğŸ†• ì¼ê´„ ì‘ì—… í‘œì‹œ ì—¬ë¶€
  onSelectionChange?: (selectedIds: string[]) => void // ğŸ†• ì„ íƒ ë³€ê²½ ì½œë°±
}

// ìƒˆë¡œìš´ ê¸°ëŠ¥ë“¤
- [ ] ì²´í¬ë°•ìŠ¤ ì¼ê´„ ì„ íƒ
- [ ] í˜ì´ì§€ë„¤ì´ì…˜ (ë¬´í•œ ìŠ¤í¬ë¡¤ ëŒ€ì‹ )
- [ ] ê°€ìƒí™” (ëŒ€ìš©ëŸ‰ ëŒ“ê¸€ ì²˜ë¦¬)
- [ ] ê´€ë¦¬ì ì „ìš© ì •ë³´ í‘œì‹œ
- [ ] ë¹ ë¥¸ ì•¡ì…˜ ë²„íŠ¼ ê·¸ë£¹
- [ ] í•„í„°ë§ ì—°ë™
```

#### CommentItem.tsx ê°œì„ ì‚¬í•­
```typescript
interface CommentItemProps extends Existing {
  showAdminInfo?: boolean // ğŸ†• ê´€ë¦¬ì ì •ë³´ í‘œì‹œ ì—¬ë¶€
  onQuickAction?: (action: string, commentId: string) => void // ğŸ†• ë¹ ë¥¸ ì•¡ì…˜
  isSelected?: boolean // ğŸ†• ì„ íƒ ìƒíƒœ
  onSelectionChange?: (selected: boolean) => void // ğŸ†• ì„ íƒ ë³€ê²½
}

// ìƒˆë¡œìš´ UI ìš”ì†Œë“¤
- [ ] ì‹ ê³  ìˆ˜ ë±ƒì§€ (ë¹¨ê°„ìƒ‰ ì•Œë¦¼)
- [ ] ê´€ë¦¬ ìƒíƒœ ë±ƒì§€ (ê´€ë¦¬ì ì•¡ì…˜ ì´ë ¥)
- [ ] ë¹ ë¥¸ ì•¡ì…˜ ë²„íŠ¼ (ìˆ¨ê¹€/ë³µì›)
- [ ] ê´€ë¦¬ ì´ë ¥ íˆ´íŒ
- [ ] ìœ„í—˜ë„ ì¸ë””ì¼€ì´í„°
```

### ğŸ†• í•µì‹¬ ì‹ ê·œ ì»´í¬ë„ŒíŠ¸

#### 1. CommentManagementTable.tsx
```typescript
interface CommentManagementTableProps {
  filters?: AdvancedCommentFilters
  onFiltersChange?: (filters: AdvancedCommentFilters) => void
  showBulkActions?: boolean
}

// ì£¼ìš” ê¸°ëŠ¥
- ê³ ê¸‰ í•„í„°ë§ê³¼ ì—°ë™ëœ ëŒ“ê¸€ í…Œì´ë¸”
- ì¼ê´„ ì„ íƒ ë° ì•¡ì…˜ ì‹¤í–‰
- ì •ë ¬, í˜ì´ì§€ë„¤ì´ì…˜
- ê´€ë¦¬ì ì •ë³´ ë° í†µê³„ í‘œì‹œ
- ì‹ ê³  í˜„í™© ë° ìœ„í—˜ë„ í‘œì‹œ
```

#### 2. CommentBulkActions.tsx
```typescript
interface CommentBulkActionsProps {
  selectedComments: string[]
  onBulkAction: (action: BulkAction, reason?: string) => Promise<void>
  loading?: boolean
}

interface BulkAction {
  type: 'hide' | 'restore' | 'delete' | 'export'
  label: string
  color: string
  icon: React.ComponentType
  requiresReason?: boolean
  confirmMessage?: string
}

// ì œê³µí•  ì¼ê´„ ì•¡ì…˜ë“¤
const bulkActions: BulkAction[] = [
  {
    type: 'hide',
    label: 'ì„ íƒí•œ ëŒ“ê¸€ ìˆ¨ê¸°ê¸°',
    color: 'yellow',
    icon: EyeOffIcon,
    requiresReason: true,
    confirmMessage: 'ì„ íƒí•œ ëŒ“ê¸€ë“¤ì„ ìˆ¨ê¸°ì‹œê² ìŠµë‹ˆê¹Œ?'
  },
  {
    type: 'restore',
    label: 'ì„ íƒí•œ ëŒ“ê¸€ ë³µì›',
    color: 'green',
    icon: EyeIcon,
    requiresReason: false,
    confirmMessage: 'ì„ íƒí•œ ëŒ“ê¸€ë“¤ì„ ë³µì›í•˜ì‹œê² ìŠµë‹ˆê¹Œ?'
  },
  // ... ë” ë§ì€ ì•¡ì…˜ë“¤
]
```

#### 3. CommentDetailModal.tsx
```typescript
interface CommentDetailModalProps {
  commentId: string
  isOpen: boolean
  onClose: () => void
  onAction?: (action: string, commentId: string) => void
}

// ëª¨ë‹¬ì—ì„œ í‘œì‹œí•  ì •ë³´ ì„¹ì…˜ë“¤
- ğŸ“ ëŒ“ê¸€ ê¸°ë³¸ ì •ë³´ (ì‘ì„±ì, ë‚´ìš©, ì‘ì„±ì¼, ìˆ˜ì •ì¼)
- ğŸ“„ ì› ê²Œì‹œê¸€ ì •ë³´ ë° ë°”ë¡œê°€ê¸° ë§í¬
- ğŸš¨ ì‹ ê³  í˜„í™© (ì‹ ê³  ìˆ˜, ì‹ ê³  ì‚¬ìœ , ì‹ ê³ ì ì •ë³´)
- ğŸ‘¤ ê´€ë¦¬ì ì•¡ì…˜ ì´ë ¥ (ì‹œê°„ìˆœ íƒ€ì„ë¼ì¸)
- âš¡ ë¹ ë¥¸ ê´€ë¦¬ ì•¡ì…˜ ë²„íŠ¼ë“¤
- ğŸ“Š ì°¸ì—¬ í†µê³„ (ì¢‹ì•„ìš”, ë‹µê¸€ ìˆ˜)
- ğŸ”— ê´€ë ¨ ëŒ“ê¸€ë“¤ (ê°™ì€ ì‘ì„±ìì˜ ë‹¤ë¥¸ ëŒ“ê¸€)
```

#### 4. CommentReportModal.tsx
```typescript
interface CommentReportModalProps {
  reportId: string
  commentId: string
  isOpen: boolean
  onClose: () => void
  onProcessed?: (result: ReportProcessingResult) => void
}

// ì‹ ê³  ì²˜ë¦¬ ì›Œí¬í”Œë¡œìš° UI
1. ğŸ“‹ ì‹ ê³  ì •ë³´ í‘œì‹œ
   - ì‹ ê³ ì ì •ë³´, ì‹ ê³  ì‚¬ìœ , ì‹ ê³  ë‚ ì§œ
   - ì‹ ê³  ì„¤ëª… ë° ì¶”ê°€ ì •ë³´

2. ğŸ“ ëŒ“ê¸€ ë‚´ìš© ê²€í† 
   - ì›ë¬¸ í‘œì‹œ (í•˜ì´ë¼ì´íŒ…)
   - ì»¨í…ìŠ¤íŠ¸ (ì „í›„ ëŒ“ê¸€ë“¤)

3. âš–ï¸ ì²˜ë¦¬ ì•¡ì…˜ ì„ íƒ
   - ìŠ¹ì¸ (ìë™ ì•¡ì…˜ ì„ íƒ í¬í•¨)
   - ë°˜ë ¤ (ì‚¬ìœ  ì…ë ¥)
   - ë³´ë¥˜ (ì¶”ê°€ ê²€í†  í•„ìš”)

4. ğŸ“„ ì²˜ë¦¬ ì‚¬ìœ  ì…ë ¥
   - ìŠ¹ì¸/ë°˜ë ¤ ì‚¬ìœ 
   - í–¥í›„ ì°¸ê³ ì‚¬í•­
```


---

## ğŸ” RLS ì •ì±… ì„¤ê³„

### ğŸ“‹ ê¶Œí•œ ë§¤íŠ¸ë¦­ìŠ¤ (í™•ì¥)

| ì‘ì—… | ì¼ë°˜ ì‚¬ìš©ì | ì‘ì„±ì | admin | super_admin |
|------|-------------|--------|-------|-------------|
| **ëŒ“ê¸€ CRUD** |
| ëŒ“ê¸€ ì¡°íšŒ | í™œì„±ë§Œ | ë³¸ì¸ ëª¨ë“  ëŒ“ê¸€ | ëª¨ë“  ëŒ“ê¸€ | ëª¨ë“  ëŒ“ê¸€ |
| ëŒ“ê¸€ ì‘ì„± | âœ… | âœ… | âŒ | âŒ |
| ëŒ“ê¸€ ìˆ˜ì • | âŒ | ë³¸ì¸ë§Œ (24ì‹œê°„ ë‚´) | âœ… ëª¨ë“  ëŒ“ê¸€ | âœ… ëª¨ë“  ëŒ“ê¸€ |
| ëŒ“ê¸€ ì‚­ì œ | âŒ | ë³¸ì¸ë§Œ | âŒ | âœ… ëª¨ë“  ëŒ“ê¸€ |
| **ê´€ë¦¬ ê¸°ëŠ¥** |
| ëŒ“ê¸€ ìˆ¨ê¹€/ë³µì› | âŒ | âŒ | âœ… | âœ… |
| ì¼ê´„ ê´€ë¦¬ | âŒ | âŒ | âœ… | âœ… |
| ë‚´ìš© ìˆ˜ì • | âŒ | âŒ | âœ… ì œí•œì  | âœ… ì „ì²´ |
| **ì‹ ê³  ê´€ë¦¬** |
| ì‹ ê³  ì²˜ë¦¬ | âŒ | âŒ | âœ… | âœ… |
| ì‹ ê³  í†µê³„ ì¡°íšŒ | âŒ | âŒ | âœ… | âœ… |
| **ê´€ë¦¬ ì •ë³´** |
| ê´€ë¦¬ ì´ë ¥ ì¡°íšŒ | âŒ | âŒ | âœ… ë³¸ì¸ë§Œ | âœ… ì „ì²´ |
| ëŒ€ì‹œë³´ë“œ ì ‘ê·¼ | âŒ | âŒ | âœ… ì œí•œì  | âœ… ì „ì²´ |

### ğŸ›¡ï¸ RLS ì •ì±… êµ¬í˜„

#### 1. ëŒ“ê¸€ ì¡°íšŒ ì •ì±… (ê°œì„ )
```sql
-- ê¸°ì¡´ ì •ì±… ì‚­ì œ í›„ ì¬ìƒì„±
DROP POLICY IF EXISTS "comment_select_policy" ON community_comments_list;

CREATE POLICY "comment_select_policy"
ON community_comments_list
FOR SELECT
TO public
USING (
  -- í™œì„± ëŒ“ê¸€ì€ ëˆ„êµ¬ë‚˜
  (status = 'active') OR
  -- ì‘ì„±ì ë³¸ì¸ì˜ ëª¨ë“  ëŒ“ê¸€
  EXISTS (
    SELECT 1 FROM members
    WHERE id = community_comments_list.author_id
    AND social_id::text = auth.uid()::text
  ) OR
  -- ê´€ë¦¬ìëŠ” ëª¨ë“  ëŒ“ê¸€
  EXISTS (
    SELECT 1 FROM admin_users
    WHERE supabase_user_id = auth.uid()
    AND is_active = true
    AND role IN ('super_admin', 'admin')
  )
);
```

#### 2. ëŒ“ê¸€ ìˆ˜ì • ì •ì±… (ì„¸ë¶„í™”)
```sql
-- ê¸°ì¡´ ì •ì±… ì‚­ì œ í›„ ì¬ìƒì„±
DROP POLICY IF EXISTS "comment_update_policy" ON community_comments_list;

CREATE POLICY "comment_update_policy"
ON community_comments_list
FOR UPDATE
TO authenticated
USING (
  -- ì‘ì„±ì ë³¸ì¸ (24ì‹œê°„ ë‚´ ìˆ˜ì • ê°€ëŠ¥)
  (
    EXISTS (
      SELECT 1 FROM members
      WHERE id = community_comments_list.author_id
      AND social_id::text = auth.uid()::text
    )
    AND created_at > (NOW() - INTERVAL '24 hours')
  ) OR
  -- ê´€ë¦¬ì (ëª¨ë“  ìˆ˜ì • ê°€ëŠ¥)
  EXISTS (
    SELECT 1 FROM admin_users
    WHERE supabase_user_id = auth.uid()
    AND is_active = true
    AND role IN ('super_admin', 'admin')
  )
)
WITH CHECK (
  -- ë™ì¼í•œ ì¡°ê±´ìœ¼ë¡œ WITH CHECK ì„¤ì •
  (
    EXISTS (
      SELECT 1 FROM members
      WHERE id = community_comments_list.author_id
      AND social_id::text = auth.uid()::text
    )
    AND created_at > (NOW() - INTERVAL '24 hours')
  ) OR
  EXISTS (
    SELECT 1 FROM admin_users
    WHERE supabase_user_id = auth.uid()
    AND is_active = true
    AND role IN ('super_admin', 'admin')
  )
);
```

#### 3. ê´€ë¦¬ ì´ë ¥ í…Œì´ë¸” ì •ì±…
```sql
-- comment_admin_actions í…Œì´ë¸” RLS ì •ì±…
ALTER TABLE comment_admin_actions ENABLE ROW LEVEL SECURITY;

-- ì¡°íšŒ ì •ì±…: ê´€ë¦¬ìë§Œ ì¡°íšŒ ê°€ëŠ¥
CREATE POLICY "admin_actions_select_policy"
ON comment_admin_actions
FOR SELECT
TO authenticated
USING (
  EXISTS (
    SELECT 1 FROM admin_users
    WHERE supabase_user_id = auth.uid()
    AND is_active = true
    AND role IN ('super_admin', 'admin')
  )
);

-- ì‚½ì… ì •ì±…: ê´€ë¦¬ìë§Œ ê¸°ë¡ ê°€ëŠ¥
CREATE POLICY "admin_actions_insert_policy"
ON comment_admin_actions
FOR INSERT
TO authenticated
WITH CHECK (
  EXISTS (
    SELECT 1 FROM admin_users
    WHERE supabase_user_id = auth.uid()
    AND is_active = true
    AND role IN ('super_admin', 'admin')
    AND id = admin_id -- ë³¸ì¸ì˜ ì•¡ì…˜ë§Œ ê¸°ë¡ ê°€ëŠ¥
  )
);
```

#### 4. ì‹ ê³  ì²˜ë¦¬ í…Œì´ë¸” ì •ì±…
```sql
-- comment_report_processing í…Œì´ë¸” RLS ì •ì±…
ALTER TABLE comment_report_processing ENABLE ROW LEVEL SECURITY;

-- ì¡°íšŒ ì •ì±…: ê´€ë¦¬ìë§Œ ì¡°íšŒ ê°€ëŠ¥
CREATE POLICY "report_processing_select_policy"
ON comment_report_processing
FOR SELECT
TO authenticated
USING (
  EXISTS (
    SELECT 1 FROM admin_users
    WHERE supabase_user_id = auth.uid()
    AND is_active = true
    AND role IN ('super_admin', 'admin')
  )
);

-- ì‚½ì… ì •ì±…: ê´€ë¦¬ìë§Œ ì²˜ë¦¬ ê¸°ë¡ ê°€ëŠ¥
CREATE POLICY "report_processing_insert_policy"
ON comment_report_processing
FOR INSERT
TO authenticated
WITH CHECK (
  EXISTS (
    SELECT 1 FROM admin_users
    WHERE supabase_user_id = auth.uid()
    AND is_active = true
    AND role IN ('super_admin', 'admin')
    AND id = admin_id -- ë³¸ì¸ì˜ ì²˜ë¦¬ë§Œ ê¸°ë¡ ê°€ëŠ¥
  )
);
```

---

## ğŸ“… ê°œë°œ ë‹¨ê³„ë³„ ìƒì„¸ ê³„íš

### ğŸš€ Phase 1: ê¸°ë³¸ ê´€ë¦¬ ê¸°ëŠ¥ (2025-09-17 ~ 2025-09-30)

#### Week 1 (2025-09-17 ~ 2025-09-23): ë°±ì—”ë“œ ê¸°ë°˜ êµ¬ì¶•
**Day 1-2 (9/17-9/18): ë°ì´í„°ë² ì´ìŠ¤ í™•ì¥**
- [ ] `comment_admin_actions` í…Œì´ë¸” ìƒì„±
- [ ] `community_comments_list` í…Œì´ë¸” í•„ë“œ ì¶”ê°€
- [ ] ì¸ë±ìŠ¤ ìƒì„± ë° ì„±ëŠ¥ ìµœì í™”
- [ ] RLS ì •ì±… ìˆ˜ì • ë° ì ìš©

**Day 3-5 (9/19-9/23): ì„œë¹„ìŠ¤ ë ˆì´ì–´ í™•ì¥**
- [ ] `bulkUpdateCommentStatus` ë©”ì„œë“œ êµ¬í˜„
- [ ] `updateCommentContent` ë©”ì„œë“œ êµ¬í˜„
- [ ] `getCommentAdminActions` ë©”ì„œë“œ êµ¬í˜„
- [ ] ê´€ë ¨ íƒ€ì… ì •ì˜ ë° ì¸í„°í˜ì´ìŠ¤ ì‘ì„±
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±

#### Week 2 (2025-09-24 ~ 2025-09-30): í”„ë¡ íŠ¸ì—”ë“œ ê¸°ë³¸ UI
**Day 1-3 (9/24-9/26): ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ ê°œì„ **
- [ ] CommentListì— ì¼ê´„ ì„ íƒ ì²´í¬ë°•ìŠ¤ ì¶”ê°€
- [ ] CommentItemì— ê´€ë¦¬ ì•¡ì…˜ ë²„íŠ¼ ì¶”ê°€
- [ ] ì„ íƒ ìƒíƒœ ê´€ë¦¬ í›… êµ¬í˜„
- [ ] ê´€ë¦¬ì ì •ë³´ í‘œì‹œ UI ì¶”ê°€

**Day 4-5 (9/27-9/30): ì‹ ê·œ ì»´í¬ë„ŒíŠ¸ êµ¬í˜„**
- [ ] CommentBulkActions ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
- [ ] CommentDetailModal ê¸°ë³¸ ë²„ì „ êµ¬í˜„
- [ ] ì¼ê´„ ì‘ì—… ì²˜ë¦¬ ë¡œì§ ì—°ë™
- [ ] ì—ëŸ¬ ì²˜ë¦¬ ë° ì‚¬ìš©ì í”¼ë“œë°±

### ğŸ”¥ Phase 2: ì‹ ê³  ì²˜ë¦¬ ì‹œìŠ¤í…œ (2025-10-01 ~ 2025-10-14)

#### Week 3 (2025-10-01 ~ 2025-10-07): ì‹ ê³  ì²˜ë¦¬ ë°±ì—”ë“œ
**Day 1-2 (10/1-10/2): ì‹ ê³  ì²˜ë¦¬ ë°ì´í„°ë² ì´ìŠ¤**
- [ ] `comment_report_processing` í…Œì´ë¸” ìƒì„±
- [ ] `community_reports` í…Œì´ë¸” í™•ì¥
- [ ] ì‹ ê³  ì²˜ë¦¬ ì›Œí¬í”Œë¡œìš° ì„¤ê³„
- [ ] RLS ì •ì±… ì¶”ê°€

**Day 3-5 (10/3-10/7): ì‹ ê³  ì²˜ë¦¬ ì„œë¹„ìŠ¤**
- [ ] `processCommentReport` ë©”ì„œë“œ êµ¬í˜„
- [ ] `bulkProcessReports` ë©”ì„œë“œ êµ¬í˜„
- [ ] `getReportProcessingStats` ë©”ì„œë“œ êµ¬í˜„
- [ ] ìë™ ì•¡ì…˜ ì‹¤í–‰ ë¡œì§ êµ¬í˜„
- [ ] í†µí•© í…ŒìŠ¤íŠ¸ ì‘ì„±

#### Week 4 (2025-10-08 ~ 2025-10-14): ì‹ ê³  ì²˜ë¦¬ UI
**Day 1-3 (10/8-10/10): ì‹ ê³  ê´€ë¦¬ ì»´í¬ë„ŒíŠ¸**
- [ ] CommentReportModal êµ¬í˜„
- [ ] ReportProcessingPanel êµ¬í˜„
- [ ] ì‹ ê³  ëª©ë¡ ë° ìƒì„¸ í˜ì´ì§€ ê°œì„ 
- [ ] ì‹ ê³  ì²˜ë¦¬ ì›Œí¬í”Œë¡œìš° UI

**Day 4-5 (10/11-10/14): ì‹ ê³  ì²˜ë¦¬ ì›Œí¬í”Œë¡œìš° ì™„ì„±**
- [ ] ReportDashboard ê¸°ë³¸ ë²„ì „ êµ¬í˜„
- [ ] ì‹ ê³  ì²˜ë¦¬ í†µê³„ ì°¨íŠ¸
- [ ] ê´€ë¦¬ì ì„±ê³¼ ì§€í‘œ í‘œì‹œ
- [ ] ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ êµ¬í˜„

### ğŸ“Š Phase 3: ê³ ê¸‰ ê¸°ëŠ¥ ë° ìµœì í™” (2025-10-15 ~ 2025-10-29)

#### Week 5 (2025-10-15 ~ 2025-10-21): ê³ ê¸‰ ê²€ìƒ‰ ë° í•„í„°ë§
**Day 1-3 (10/15-10/17): ê³ ê¸‰ ê²€ìƒ‰ ë°±ì—”ë“œ**
- [ ] `searchComments` ë©”ì„œë“œ êµ¬í˜„
- [ ] ë³µí•© ì¸ë±ìŠ¤ ìµœì í™”
- [ ] ì „ë¬¸ ê²€ìƒ‰ ê¸°ëŠ¥ (PostgreSQL FTS)
- [ ] ê²€ìƒ‰ ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí‚¹

**Day 4-5 (10/18-10/21): ê³ ê¸‰ í•„í„°ë§ UI**
- [ ] CommentFilters ê³ ê¸‰ ë²„ì „ êµ¬í˜„
- [ ] ì €ì¥ëœ í•„í„° ê¸°ëŠ¥
- [ ] ê²€ìƒ‰ íˆìŠ¤í† ë¦¬ ê´€ë¦¬
- [ ] í•„í„° ê³µìœ  ê¸°ëŠ¥

#### Week 6 (2025-10-22 ~ 2025-10-29): ìµœì¢… ìµœì í™” ë° ë§ˆë¬´ë¦¬
**Day 1-3 (10/22-10/24): ê¸°ëŠ¥ ì™„ì„±ë„ í–¥ìƒ**
- [ ] ê³ ê¸‰ ê²€ìƒ‰ ê¸°ëŠ¥ ì™„ì„±
- [ ] ê´€ë¦¬ ì´ë ¥ ì¶”ì  ì™„ì„±
- [ ] UI/UX ê°œì„  ë° ìµœì í™”

**Day 4-5 (10/25-10/29): ì„±ëŠ¥ ìµœì í™” ë° ë§ˆë¬´ë¦¬**
- [ ] ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ìµœì í™”
- [ ] ìºì‹± ì „ëµ êµ¬í˜„
- [ ] ë¡œë”© ì„±ëŠ¥ ê°œì„ 
- [ ] ì „ì²´ ì‹œìŠ¤í…œ í†µí•© í…ŒìŠ¤íŠ¸
- [ ] ì‚¬ìš©ì ë¬¸ì„œ ì‘ì„±

---

## ğŸ¯ ì„±ê³µ ì§€í‘œ ë° ê²€ì¦ ë°©ë²•

### ğŸ“Š ì •ëŸ‰ì  ì§€í‘œ (KPI)

#### ê´€ë¦¬ íš¨ìœ¨ì„±
- **ì¼ê´„ ì‘ì—… ì‚¬ìš©ë¥ **: ì „ì²´ ê´€ë¦¬ ì‘ì—… ì¤‘ 70% ì´ìƒ
- **í‰ê·  ëŒ“ê¸€ ì²˜ë¦¬ ì‹œê°„**: ê¸°ì¡´ ëŒ€ë¹„ 60% ë‹¨ì¶• (5ë¶„ â†’ 2ë¶„)
- **ê´€ë¦¬ì ìƒì‚°ì„±**: ì‹œê°„ë‹¹ ì²˜ë¦¬ ëŒ“ê¸€ ìˆ˜ 300% ì¦ê°€

#### ì‹ ê³  ì²˜ë¦¬ íš¨ìœ¨
- **ì‹ ê³  ì²˜ë¦¬ ì™„ë£Œ ì‹œê°„**: 24ì‹œê°„ ë‚´ ì²˜ë¦¬ìœ¨ 90% ì´ìƒ
- **ì‹ ê³  ì²˜ë¦¬ ì •í™•ë„**: ì¬ì‹ ê³ ìœ¨ 5% ì´í•˜
- **ìë™í™” ë¹„ìœ¨**: ë‹¨ìˆœ ì‹ ê³  80% ìë™ ì²˜ë¦¬

#### ì‹œìŠ¤í…œ ì„±ëŠ¥
- **ëŒ“ê¸€ ë¡œë”© ì‹œê°„**: < 500ms (1000ê°œ ëŒ“ê¸€ ê¸°ì¤€)
- **ê²€ìƒ‰ ì‘ë‹µ ì‹œê°„**: < 300ms (ë³µí•© ì¡°ê±´ ê²€ìƒ‰)
- **ì¼ê´„ ì‘ì—… ì²˜ë¦¬ ì‹œê°„**: < 2ì´ˆ (100ê°œ ëŒ“ê¸€ ê¸°ì¤€)
- **ëŒ€ì‹œë³´ë“œ ë Œë”ë§**: < 1ì´ˆ (1ê°œì›” ë°ì´í„° ê¸°ì¤€)

#### ì‚¬ìš©ì ë§Œì¡±ë„
- **ê´€ë¦¬ì ë§Œì¡±ë„**: ì„¤ë¬¸ì¡°ì‚¬ 4.5/5 ì´ìƒ
- **ì‹œìŠ¤í…œ ì˜¤ë¥˜ìœ¨**: < 0.5% (ëª¨ë“  ê´€ë¦¬ ì‘ì—… ê¸°ì¤€)
- **í•™ìŠµ ê³¡ì„ **: ì‹ ê·œ ê´€ë¦¬ì 1ì‹œê°„ ë‚´ ê¸°ë³¸ ê¸°ëŠ¥ ìˆ™ì§€

### ğŸ” ê²€ì¦ ë°©ë²•ë¡ 

#### 1. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (Unit Tests)
```typescript
// ì˜ˆì‹œ: commentService í…ŒìŠ¤íŠ¸
describe('CommentService', () => {
  describe('bulkUpdateCommentStatus', () => {
    it('should update multiple comments status successfully', async () => {
      // Given
      const commentIds = ['id1', 'id2', 'id3']
      const status = 'hidden'
      const adminId = 1
      const reason = 'Inappropriate content'

      // When
      const result = await commentService.bulkUpdateCommentStatus(
        commentIds, status, adminId, reason
      )

      // Then
      expect(result.success).toBe(true)
      expect(result.updated_count).toBe(3)
      expect(result.failed_count).toBe(0)
    })
  })
})
```

#### 2. í†µí•© í…ŒìŠ¤íŠ¸ (Integration Tests)
```typescript
// ì˜ˆì‹œ: ì‹ ê³  ì²˜ë¦¬ ì›Œí¬í”Œë¡œìš° í…ŒìŠ¤íŠ¸
describe('Report Processing Workflow', () => {
  it('should complete full report processing cycle', async () => {
    // 1. ì‹ ê³  ìƒì„±
    const report = await createTestReport()

    // 2. ì‹ ê³  ì²˜ë¦¬ (ìŠ¹ì¸)
    const result = await commentService.processCommentReport(
      report.id, 'approve', adminId, 'Valid report'
    )

    // 3. ìë™ ì•¡ì…˜ í™•ì¸
    expect(result.auto_action_executed).toBe('hide')

    // 4. ëŒ“ê¸€ ìƒíƒœ í™•ì¸
    const comment = await commentService.getCommentById(report.comment_id)
    expect(comment.status).toBe('hidden')

    // 5. ì´ë ¥ ê¸°ë¡ í™•ì¸
    const actions = await commentService.getCommentAdminActions({
      commentId: report.comment_id
    })
    expect(actions).toHaveLength(1)
    expect(actions[0].action_type).toBe('hide')
  })
})
```

#### 3. E2E í…ŒìŠ¤íŠ¸ (End-to-End Tests)
```typescript
// Playwrightë¥¼ ì‚¬ìš©í•œ E2E í…ŒìŠ¤íŠ¸ ì˜ˆì‹œ
test('Admin can bulk hide multiple comments', async ({ page }) => {
  // 1. ê´€ë¦¬ì ë¡œê·¸ì¸
  await login(page, 'admin@test.com', 'password')

  // 2. ì»¤ë®¤ë‹ˆí‹° ê´€ë¦¬ í˜ì´ì§€ ì´ë™
  await page.goto('/community')

  // 3. ëŒ“ê¸€ ê´€ë¦¬ íƒ­ í´ë¦­
  await page.click('[data-testid="comments-tab"]')

  // 4. ì—¬ëŸ¬ ëŒ“ê¸€ ì„ íƒ
  await page.check('[data-testid="comment-checkbox-1"]')
  await page.check('[data-testid="comment-checkbox-2"]')

  // 5. ì¼ê´„ ìˆ¨ê¸°ê¸° ì‹¤í–‰
  await page.click('[data-testid="bulk-hide-button"]')
  await page.fill('[data-testid="reason-input"]', 'Inappropriate content')
  await page.click('[data-testid="confirm-button"]')

  // 6. ì„±ê³µ ë©”ì‹œì§€ í™•ì¸
  await expect(page.locator('[data-testid="success-message"]')).toBeVisible()

  // 7. ëŒ“ê¸€ ìƒíƒœ ë³€ê²½ í™•ì¸
  await expect(page.locator('[data-testid="comment-1-status"]')).toHaveText('ìˆ¨ê¹€')
  await expect(page.locator('[data-testid="comment-2-status"]')).toHaveText('ìˆ¨ê¹€')
})
```

#### 4. ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ (Performance Tests)
```typescript
// Jestë¥¼ ì‚¬ìš©í•œ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ì˜ˆì‹œ
describe('Performance Tests', () => {
  it('should handle bulk operations within time limit', async () => {
    // Given: 1000ê°œ ëŒ“ê¸€ ì¤€ë¹„
    const commentIds = await createTestComments(1000)

    // When: ì¼ê´„ ìˆ¨ê¸°ê¸° ì‹¤í–‰
    const startTime = Date.now()
    await commentService.bulkUpdateCommentStatus(
      commentIds, 'hidden', adminId, 'Performance test'
    )
    const endTime = Date.now()

    // Then: 5ì´ˆ ì´ë‚´ ì™„ë£Œ
    const processingTime = endTime - startTime
    expect(processingTime).toBeLessThan(5000)
  })

  it('should load dashboard within time limit', async () => {
    // Given: 1ê°œì›” ì¹˜ ë°ì´í„° ì¤€ë¹„
    await createTestDataForMonth()

    // When: ê´€ë¦¬ ì´ë ¥ ë¡œë“œ
    const startTime = Date.now()
    const actions = await commentService.getCommentAdminActions({
      dateRange: {
        start: '2025-01-01',
        end: '2025-01-31'
      }
    })
    const endTime = Date.now()

    // Then: 1ì´ˆ ì´ë‚´ ì™„ë£Œ
    const loadTime = endTime - startTime
    expect(loadTime).toBeLessThan(1000
  })
})
```

#### 5. ì‚¬ìš©ì í…ŒìŠ¤íŠ¸ (User Acceptance Tests)

**í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ ì˜ˆì‹œ:**

1. **ì‹œë‚˜ë¦¬ì˜¤ 1: ì¼ê´„ ëŒ“ê¸€ ê´€ë¦¬**
   - ê´€ë¦¬ìê°€ ë¬¸ì œ ëŒ“ê¸€ 10ê°œë¥¼ ì„ íƒí•˜ì—¬ í•œ ë²ˆì— ìˆ¨ê¹€ ì²˜ë¦¬
   - ì²˜ë¦¬ ì‹œê°„ ë° ì„±ê³µë¥  ì¸¡ì •
   - ì‚¬ìš©ì ê²½í—˜ í”¼ë“œë°± ìˆ˜ì§‘

2. **ì‹œë‚˜ë¦¬ì˜¤ 2: ì‹ ê³  ì²˜ë¦¬ ì›Œí¬í”Œë¡œìš°**
   - ì‹ ê³ ëœ ëŒ“ê¸€ ê²€í†  í›„ ìŠ¹ì¸/ë°˜ë ¤ ì²˜ë¦¬
   - ì²˜ë¦¬ ê³¼ì •ì˜ ì§ê´€ì„± í‰ê°€
   - í•„ìš”í•œ ì •ë³´ ì ‘ê·¼ì„± ê²€ì¦

3. **ì‹œë‚˜ë¦¬ì˜¤ 3: ê³ ê¸‰ ê²€ìƒ‰ í™œìš©**
   - íŠ¹ì • ì¡°ê±´ìœ¼ë¡œ ë¬¸ì œ ëŒ“ê¸€ ê²€ìƒ‰
   - ê²€ìƒ‰ ê²°ê³¼ì˜ ì •í™•ì„± ë° ìœ ìš©ì„± í‰ê°€
   - í•„í„° ì €ì¥ ë° ì¬ì‚¬ìš© ê¸°ëŠ¥ ê²€ì¦

### ğŸ“ˆ ëª¨ë‹ˆí„°ë§ ë° ì¶”ì 

#### ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ
```typescript
// ëª¨ë‹ˆí„°ë§ ì§€í‘œ ì •ì˜
interface MonitoringMetrics {
  // ì„±ëŠ¥ ì§€í‘œ
  avg_response_time: number
  error_rate: number
  throughput: number

  // ë¹„ì¦ˆë‹ˆìŠ¤ ì§€í‘œ
  daily_comments_processed: number
  daily_reports_resolved: number
  admin_productivity_score: number

  // ì‹œìŠ¤í…œ ì§€í‘œ
  database_query_time: number
  cache_hit_rate: number
  memory_usage: number
}

// ì•Œë¦¼ ê·œì¹™
const alertRules = [
  {
    metric: 'avg_response_time',
    threshold: 1000, // 1ì´ˆ
    severity: 'warning'
  },
  {
    metric: 'error_rate',
    threshold: 1, // 1%
    severity: 'critical'
  },
  {
    metric: 'daily_reports_resolved',
    threshold: 10, // ìµœì†Œ 10ê±´
    severity: 'info'
  }
]
```

---

## ğŸš€ ì¦‰ì‹œ ì‹¤í–‰ ê°€ëŠ¥í•œ ì•¡ì…˜ ì•„ì´í…œ

### âš¡ Day 1 (2025-09-17, ì˜¤ëŠ˜)
1. **ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ í™•ì¥** (2ì‹œê°„)
   ```sql
   -- comment_admin_actions í…Œì´ë¸” ìƒì„±
   -- community_comments_list í•„ë“œ ì¶”ê°€
   -- ê¸°ë³¸ ì¸ë±ìŠ¤ ìƒì„±
   ```

2. **íƒ€ì… ì •ì˜ ì‘ì„±** (1ì‹œê°„)
   ```typescript
   // types/comment-management.types.ts ìƒì„±
   // ê¸°ë³¸ ì¸í„°í˜ì´ìŠ¤ ì •ì˜
   ```

### âš¡ Day 2-3 (2025-09-18 ~ 2025-09-19)
1. **commentService ê¸°ë³¸ ë©”ì„œë“œ êµ¬í˜„** (1ì¼)
   - `bulkUpdateCommentStatus`
   - `getCommentAdminActions`

2. **RLS ì •ì±… ì—…ë°ì´íŠ¸** (0.5ì¼)
   - ê¸°ì¡´ ì •ì±… ìˆ˜ì •
   - ìƒˆ í…Œì´ë¸” ì •ì±… ìƒì„±

### âš¡ Day 4-5 (2025-09-20 ~ 2025-09-23)
1. **CommentList ì¼ê´„ ì„ íƒ ê¸°ëŠ¥** (1ì¼)
   - ì²´í¬ë°•ìŠ¤ UI ì¶”ê°€
   - ì„ íƒ ìƒíƒœ ê´€ë¦¬

2. **CommentBulkActions ê¸°ë³¸ ë²„ì „** (1ì¼)
   - ìˆ¨ê¸°ê¸°/ë³µì› ì•¡ì…˜
   - ê¸°ë³¸ UI êµ¬í˜„

### ğŸ“‹ ì²´í¬ë¦¬ìŠ¤íŠ¸ í…œí”Œë¦¿

```markdown
## Week 1 ì²´í¬ë¦¬ìŠ¤íŠ¸ (2025-09-17 ~ 2025-09-23)

### ë°±ì—”ë“œ (Day 1-2: 9/17-9/18)
- [ ] comment_admin_actions í…Œì´ë¸” ìƒì„±
- [ ] community_comments_list í•„ë“œ ì¶”ê°€
- [ ] ì¸ë±ìŠ¤ ìƒì„± ë° ìµœì í™”
- [ ] RLS ì •ì±… ìˆ˜ì •
- [ ] íƒ€ì… ì •ì˜ ì‘ì„±

### ì„œë¹„ìŠ¤ ë ˆì´ì–´ (Day 3-5: 9/19-9/23)
- [ ] bulkUpdateCommentStatus êµ¬í˜„
- [ ] updateCommentContent êµ¬í˜„
- [ ] getCommentAdminActions êµ¬í˜„
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±
- [ ] API ë¬¸ì„œ ì—…ë°ì´íŠ¸

### í”„ë¡ íŠ¸ì—”ë“œ (Day 4-5: 9/20-9/23)
- [ ] CommentList ì²´í¬ë°•ìŠ¤ ì¶”ê°€
- [ ] CommentItem ê´€ë¦¬ ë²„íŠ¼ ì¶”ê°€
- [ ] CommentBulkActions ê¸°ë³¸ êµ¬í˜„
- [ ] ì„ íƒ ìƒíƒœ ê´€ë¦¬ í›…
- [ ] ì—ëŸ¬ ì²˜ë¦¬ ë° í”¼ë“œë°±
```

---

## ğŸ“ ì§€ì› ë° ë¦¬ì†ŒìŠ¤

### ğŸ‘¥ íŒ€ êµ¬ì„± ë° ì—­í• 
- **ë°±ì—”ë“œ ê°œë°œì**: ë°ì´í„°ë² ì´ìŠ¤, API, RLS ì •ì±…
- **í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì**: UI ì»´í¬ë„ŒíŠ¸, ìƒíƒœ ê´€ë¦¬
- **QA ì—”ì§€ë‹ˆì–´**: í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤, ì„±ëŠ¥ ê²€ì¦
- **í”„ë¡œë•íŠ¸ ë§¤ë‹ˆì €**: ìš”êµ¬ì‚¬í•­ ê²€ì¦, ìš°ì„ ìˆœìœ„ ì¡°ì •

### ğŸ“š ì°¸ê³  ë¬¸ì„œ
- [Supabase RLS ê°€ì´ë“œ](https://supabase.com/docs/guides/auth/row-level-security)
- [React Query ìµœì í™”](https://tanstack.com/query/latest/docs/react/guides/optimistic-updates)
- [Chakra UI ì»´í¬ë„ŒíŠ¸](https://chakra-ui.com/docs/components)
- [PostgreSQL ì„±ëŠ¥ íŠœë‹](https://www.postgresql.org/docs/current/performance-tips.html)

### ğŸ”— ê´€ë ¨ ë„êµ¬
- **ë””ìì¸**: Figma (UI ëª©ì—…)
- **API í…ŒìŠ¤íŠ¸**: Postman/Insomnia
- **ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§**: Supabase Dashboard
- **ì—ëŸ¬ ì¶”ì **: ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬

### âš ï¸ ìœ„í—˜ ìš”ì†Œ ë° ëŒ€ì‘ ë°©ì•ˆ

| ìœ„í—˜ ìš”ì†Œ | í™•ë¥  | ì˜í–¥ë„ | ëŒ€ì‘ ë°©ì•ˆ |
|-----------|------|--------|-----------|
| RLS ì •ì±… ë³µì¡ì„± | ì¤‘ê°„ | ë†’ìŒ | ë‹¨ê³„ì  ì ìš©, ì² ì €í•œ í…ŒìŠ¤íŠ¸ |
| ì„±ëŠ¥ ì €í•˜ | ë‚®ìŒ | ì¤‘ê°„ | ì¸ë±ìŠ¤ ìµœì í™”, ìºì‹± ì „ëµ |
| UI/UX ë³µì¡ì„± | ë†’ìŒ | ì¤‘ê°„ | í”„ë¡œí† íƒ€ì… ë¨¼ì €, ì‚¬ìš©ì í”¼ë“œë°± |
| ë°ì´í„° ë¬´ê²°ì„± | ë‚®ìŒ | ë†’ìŒ | íŠ¸ëœì­ì…˜ ì²˜ë¦¬, ë°±ì—… ì „ëµ |

---

## ğŸ“‹ ë§ˆë¬´ë¦¬

ì´ ê³„íšì„œëŠ” **6ì£¼ê°„ì˜ ì²´ê³„ì ì¸ ê°œë°œ ë¡œë“œë§µ**ì„ ì œì‹œí•©ë‹ˆë‹¤.

**í•µì‹¬ ëª©í‘œ:**
- ê´€ë¦¬ íš¨ìœ¨ì„± **300% í–¥ìƒ**
- ì‹ ê³  ì²˜ë¦¬ ì‹œê°„ **80% ë‹¨ì¶•**
- ì™„ì „í•œ ëŒ“ê¸€ ê´€ë¦¬ ìƒíƒœê³„ êµ¬ì¶•

**ì„±ê³µ ìš”ì¸:**
1. **ë‹¨ê³„ì  ì ‘ê·¼**: Phaseë³„ ì ì§„ì  êµ¬í˜„
2. **ì‚¬ìš©ì ì¤‘ì‹¬**: ê´€ë¦¬ì ê²½í—˜ ìµœìš°ì„ 
3. **ì„±ëŠ¥ ë³´ì¥**: ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ìµœì í™”
4. **í™•ì¥ì„±**: ë¯¸ë˜ ìš”êµ¬ì‚¬í•­ ëŒ€ì‘ ê°€ëŠ¥

**ë‹¤ìŒ ë‹¨ê³„**: ì´ ê³„íšì— ëŒ€í•œ íŒ€ ê²€í†  í›„ ì¦‰ì‹œ **Day 1 ì•¡ì…˜ ì•„ì´í…œ** ì‹¤í–‰ ğŸš€

---

> ğŸ“… **ì •ê¸° ë¦¬ë·°**: ë§¤ì£¼ ê¸ˆìš”ì¼ ì˜¤í›„ 3ì‹œ
> ğŸ”„ **ê³„íš ì—…ë°ì´íŠ¸**: ê²©ì£¼ ì›”ìš”ì¼
> ğŸ“Š **ì§„í–‰ë¥  ì²´í¬**: ë§¤ì¼ ìŠ¤íƒ ë“œì—… ë¯¸íŒ…
